<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>

    <title>Tiktok tool</title>
</head>
<body>
<h1>Tiktok tool</h1>
<div class="form-group">
    <label for="sample">Sample</label>
    <textarea class="form-control" id="sample" rows="5"></textarea>
</div>
<div class="form-group">
    <label for="icon_selection">Icon to random</label>
    <select class="selectpicker form-control" id="icon_selection" multiple data-live-search="true">
        <option value="0" selected>😀</option>
        <option value="1" selected>😁</option>
        <option value="2" selected>😂</option>
        <option value="3" selected>🤣</option>
        <option value="4" selected>😃</option>
        <option value="5" selected>😄</option>
        <option value="6" selected>😅</option>
        <option value="7" selected>😉</option>
        <option value="8" selected>😊</option>
        <option value="9" selected>😋</option>
        <option value="10" selected>😎</option>
        <option value="11" selected>😍</option>
        <option value="12" selected>😘</option>
        <option value="13" selected>😗</option>
        <option value="14" selected>😙</option>
        <option value="15" selected>😚</option>
        <option value="16" selected>🙂</option>
        <option value="17" selected>🤗</option>
        <option value="18" selected>🤔</option>
        <option value="19" selected>🙄</option>
        <option value="20" selected>😛</option>
        <option value="21" selected>😜</option>
        <option value="22" selected>😝</option>
        <option value="23" selected>😇</option>
        <option value="24" selected>🤠</option>
        <option value="25" selected>😺</option>
        <option value="26" selected>😸</option>
        <option value="27" selected>😹</option>
        <option value="28" selected>😻</option>
        <option value="29" selected>😼</option>
        <option value="30" selected>😽</option>
        <option value="31" selected>🙀</option>
    </select>
</div>
<div class="form-group">
    <label for="numberOfIcon">Number of icon</label>
    <input type="number" class="form-control" id="numberOfIcon" value="3">
</div>
<div class="form-group">
    <label for="result">Result</label>
    <textarea class="form-control" id="result" rows="5"></textarea>
</div>
<button type="button" id="generate" class="btn btn-success">Generate</button>
<button type="button" id="copy" class="btn btn-info">Copy</button>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
<script>
    var icons = [
        '😀',
        '😁',
        '😂',
        '🤣',
        '😃',
        '😄',
        '😅',
        '😉',
        '😊',
        '😋',
        '😎',
        '😍',
        '😘',
        '😗',
        '😙',
        '😚',
        '🙂',
        '🤗',
        '🤔',
        '🙄',
        '😛',
        '😜',
        '😝',
        '😇',
        '🤠',
        '😺',
        '😸',
        '😹',
        '😻',
        '😼',
        '😽',
        '🙀'
    ];
    var selectedIcons = icons;

    let randomNumber = function () {
        return Math.floor(Math.random() * (selectedIcons.length - 1));
    }

    let randomIcon = function () {
        let result = '';
        let number = parseInt(jQuery('#numberOfIcon').val());
        number = number ? number : 3;
        for (let i = 0; i < number; i++) {
            result += selectedIcons[randomNumber()]
        }
        return result;
    }

    jQuery('#generate').click(function () {
        let sample = jQuery('#sample').val();
        jQuery('#result').val(sample + ' ' + randomIcon());
    });

    jQuery('#copy').click(function () {
        let $result = jQuery('#result');
        $result.focus();
        $result.select();
        try {
            document.execCommand('copy');
            jQuery('#copy').text('Copied');
            setTimeout(function () {
                jQuery('#copy').text('Copy');
            }, 2000);
        } catch (err) {
            console.log('Oops, unable to copy');
        }
    });

    jQuery('#icon_selection').on('change', function () {
        selectedIcons = [];
        jQuery('#icon_selection').val().forEach(function (icon) {
            selectedIcons.push(icons[parseInt(icon)]);
        })
        if (selectedIcons.length === 0) {
            selectedIcons = icons;
        }
    });
</script>
</body>
</html>